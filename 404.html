

<!DOCTYPE html>
<html>
<head>
    <title>PDF Viewer</title>
    <style>
        body { margin: 0; }
        #pdf-viewer {
            width: 100%;
            height: 100vh;
            overflow: scroll;
            background: #f0f0f0;
        }
        canvas {
            display: block;
            margin: 10px auto;
            background: white;
            box-shadow: 0 0 4px rgba(0,0,0,0.3);
        }
    </style>
</head>

<body>

<!-- PDF Container -->
<div id="pdf-viewer"></div>

<!-- Load PDF.js (THIS MUST BE LOADED BEFORE YOUR SCRIPT) -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.9.179/pdf.min.js"></script>

<script>
    // IMPORTANT: Set the worker source
    pdfjsLib.GlobalWorkerOptions.workerSrc =
        "https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.9.179/pdf.worker.min.js";

    // Replace this URL dynamically with your Apps Script PDF file URL
    const pdfUrl = "https://script.google.com/macros/s/AKfycbyAemGs7FBW94fcx0Ncrhi_caJvUfAutejnPvzgGt6S66yfOW_pY36rQGr0VgFTQUUALg/exec?file=2025.pdf";

    // Load PDF
    pdfjsLib.getDocument(pdfUrl).promise.then(pdf => {
        console.log("PDF loaded:", pdf.numPages);

        for (let pageNum = 1; pageNum <= pdf.numPages; pageNum++) {
            pdf.getPage(pageNum).then(page => {
                const viewport = page.getViewport({ scale: 1.3 });

                const canvas = document.createElement("canvas");
                const ctx = canvas.getContext("2d");
                canvas.height = viewport.height;
                canvas.width = viewport.width;

                document.getElementById("pdf-viewer").appendChild(canvas);

                page.render({
                    canvasContext: ctx,
                    viewport: viewport
                });
            });
        }
    }).catch(err => {
        console.error("Error loading PDF:", err);
        alert("Unable to open PDF (file missing or permissions blocked)");
    });
</script>

</body>
</html>

